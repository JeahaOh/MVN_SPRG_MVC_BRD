<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org.dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.study.brd.board.DAO.BoardDAO">
  <select id="getBoardList" resultType="com.study.brd.board.VO.Board">
    SELECT BOARD_SEQ
    , BOARD_RE_REF
    , BOARD_RE_LEV
    , BOARD_RE_SEQ
    , BOARD_WRITER
    , BOARD_SUBJECT
    , BOARD_CONTENT
    , BOARD_HITS
    , DEL_YN
    , INS_USER_ID
    , INS_DATE
    , UPD_USER_ID
    , UPD_DATE
    FROM BOARD.TB_BOARD
  </select>
  
  <select id="getBoardDetail" parameterType="com.study.brd.board.VO.Board" resultType="com.study.brd.board.VO.Board">
    SELECT BOARD_SEQ
    , BOARD_RE_REF
    , BOARD_RE_LEV
    , BOARD_RE_SEQ
    , BOARD_WRITER
    , BOARD_SUBJECT
    , BOARD_CONTENT
    , BOARD_HITS
    , DEL_YN
    , INS_USER_ID
    , CAST( DATE_FORMAT(INS_DATE, '%Y-%m-%d %H:%i%s') AS CHAR(19) ) AS INS_DATE
    , UPD_USER_ID
    , CAST( DATE_FORMAT(UPD_DATE, '%Y-%m-%d %H:%i%s') AS CHAR(19) ) AS UPD_DATE
    FROM BOARD.TB_BOARD
    WHERE BOARD_SEQ = #{board_seq}
  </select>
  
  <update id="updateBoardHits" parameterType="com.study.brd.board.VO.Board">
    UPDATE TB_BOARD
      SET BOARD_HITS = BOARD_HITS + 1
    WHERE BOARD_SEQ = #{board_seq}
  </update> 
</mapper>